<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ez="http://java.sun.com/jsf/composite/status"
	xmlns:b="http://richfaces.org/sandbox/bootstrap">

<h:head>

	<f:metadata>
		<f:viewParam name="idArticle" value="#{articleManagedBean.idArticle}">
		</f:viewParam>
		<f:event type="preRenderView"
			listener="#{articleManagedBean.initParamsView}" />
	</f:metadata>
</h:head>
<ui:composition template="/pages/templates/layout.xhtml">`

	
    <ui:define name="titre">#{articleManagedBean.currentArticle.titre}</ui:define>
	<ui:define name="contenu">
	
	<ez:Status/>
	<h:outputLabel value="#{bundle.LABEL_EMAIL}" />

		<p>&#160;</p>

		<b:breadcrumb>
			<h:link outcome="index">Accueil</h:link>
			<h:outputText value="#{articleManagedBean.currentArticle.titre}" id="titreArticle"/>
		</b:breadcrumb>

		<article>
			<h2>#{articleManagedBean.currentArticle.titre}</h2>

			<p>
				Date : &#160;
				<h:outputText
					value="#{articleManagedBean.currentArticle.dateCreation}">
					<f:converter converterId="com.ocpsoft.PrettyTimeConverter" />
				</h:outputText>
			</p>

			<p>#{articleManagedBean.currentArticle.contenu}</p>


		</article>
		<hr />


			



		<h:form id="form1" styleClass="form-horizontal">

			<ui:repeat value="#{articleManagedBean.currentArticle.commentaires}"
				var="commentaire" id="comments">
				<article>
					<h3>#{commentaire.auteur}</h3>

					<p>#{commentaire.contenu}</p>
				</article>
				<hr />
			</ui:repeat>
			


			<fieldset>
				<legend>Ajouter un commentaire</legend>
			</fieldset>


			<div class="control-group">
				<h:outputLabel for="author" value="Auteur : "
					styleClass="control-label" />
				<div class="controls">
					<b:input id="author" placeholder="Auteur" label="Auteur" 
						value="#{articleManagedBean.currentCommentaire.auteur}" />

				</div>
			</div>


			<div class="control-group">
				<h:outputLabel for="email" value="Email : "
					styleClass="control-label" />
				<div class="controls">
					
					<b:input placeholder="Votre email" label="Email"
						value="#{articleManagedBean.currentCommentaire.email}" >
						</b:input>

				</div>
			</div>



			<div class="control-group">
				<h:outputLabel for="contenu" value="Contenu : "
					styleClass="control-label" />
				<div class="controls">

					<h:inputTextarea label="Contenu"
						value="#{articleManagedBean.currentCommentaire.contenu}">
					</h:inputTextarea>

				</div>
			</div>



			<div class="control-group">
				<div class="controls">
					<h:commandButton action="#{articleManagedBean.ajouterCommentaire}"
						value="Ajouter" styleClass="btn btn-primary">
						<f:ajax execute="@form" render="@form" />
					</h:commandButton>
					&#160;
					<h:button value="Annuler" styleClass="btn" />
					<p>&#160;</p>
                        <h:messages layout="table" styleClass="text-error" />
				</div>
			</div>




		</h:form>

	</ui:define>


</ui:composition>
</html>




